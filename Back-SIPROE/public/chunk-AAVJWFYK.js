import{a as A,b as O,c as T}from"./chunk-LOSPYLTI.js";import{C as lt,E as ct,a as G,b as U,c as j,g as $,h as q,i as J,j as K,k as Q,l as W,m as X,n as Y,o as Z,p as tt,q as et,r as nt,s as it,t as ot,u as at,y as rt}from"./chunk-7LJP3I4N.js";import{b as E,g as P,h as I,m as V,p as F,q as B,r as H,s as R,t as z,u as N,v as L,w as pt}from"./chunk-R6TSHYG5.js";import"./chunk-7S6IQLL5.js";import{X as D,Y as k}from"./chunk-ZQU5I34W.js";import{j as w,m as y}from"./chunk-I47XCJ5Y.js";import{Fb as r,Ob as n,Pb as i,Qb as g,Rb as h,Sb as M,Ub as C,Yb as f,Zb as p,a as x,b,bb as l,d as st,ic as a,kc as S,oa as _,pa as u,pb as v,ub as s}from"./chunk-OUNE2IBW.js";var m=st(pt());function ft(t,o){t&1&&(n(0,"th",29)(1,"b"),a(2,"Folio de Registro"),i()())}function _t(t,o){if(t&1&&(n(0,"td",30),a(1),i()),t&2){let e=o.$implicit;l(),S(" ",e.position," ")}}function ut(t,o){t&1&&(n(0,"th",29)(1,"b"),a(2,"N\xFAmero Aleatorio"),i()())}function gt(t,o){if(t&1&&(n(0,"td",30),a(1),i()),t&2){let e=o.$implicit;l(),S(" ",e.numero," ")}}function Ct(t,o){t&1&&(h(0,31),s(1,ut,3,0,"th",22)(2,gt,2,1,"td",23),M())}function xt(t,o){t&1&&g(0,"tr",32)}function bt(t,o){t&1&&g(0,"tr",33)}function ht(t,o){if(t&1){let e=C();n(0,"mat-grid-tile",13)(1,"button",34),f("click",function(){_(e);let c=p(2);return u(c.iniciarSorteo())}),a(2,"Iniciar el Sorteo"),i()()}t&2&&r("colspan",1)("rowspan",1)}function Mt(t,o){t&1&&(n(0,"span"),a(1,"Aceptar el Sorteo"),i())}function St(t,o){t&1&&g(0,"span")}function vt(t,o){if(t&1){let e=C();n(0,"mat-grid-tile",13)(1,"button",35),f("click",function(){_(e);let c=p(2);return u(c.aceptarSorteo())}),s(2,Mt,2,0,"span",11)(3,St,1,0,"span",11),a(4," Aceptar el Sorteo "),i()()}if(t&2){let e=p(2);r("colspan",1)("rowspan",1),l(2),r("ngIf",e.sorteoIniciado),l(),r("ngIf",!e.cambiaSorteo)}}function wt(t,o){if(t&1){let e=C();n(0,"mat-grid-tile",13)(1,"button",35),f("click",function(){_(e);let c=p(2);return u(c.cambiarsalida())}),a(2,"Cambiar orden de salida"),i()()}t&2&&r("colspan",1)("rowspan",1)}function yt(t,o){if(t&1){let e=C();n(0,"button",36),f("click",function(){_(e);let c=p(2);return u(c.deshacerSorteo())}),a(1,"Deshacer el Sorteo"),i()}}function At(t,o){if(t&1&&(n(0,"div")(1,"mat-card-title",2),a(2,"Inventario de proyectos de la Unidad Territorial"),i(),n(3,"mat-grid-list",12)(4,"mat-grid-tile",13)(5,"mat-card",14)(6,"mat-card-content",15)(7,"mat-icon",16),a(8,"inventory"),i(),n(9,"label"),a(10,"Poyectos aprobados "),i(),n(11,"label"),a(12," 6 "),i()()()(),n(13,"mat-grid-tile",13)(14,"mat-card",14)(15,"mat-card-content",15)(16,"mat-icon",17),a(17,"inventory"),i(),n(18,"label"),a(19," Proyectos sorteados "),i(),n(20,"label"),a(21," 0 "),i()()()(),n(22,"mat-grid-tile",13)(23,"mat-card",14)(24,"mat-card-content",15)(25,"mat-icon",18),a(26,"inventory"),i(),n(27,"label"),a(28,"Poyectos por sortear"),i(),n(29,"label"),a(30,"6"),i()()()()(),n(31,"mat-card-title",2),a(32,"Proyectos de la Unidad Territorial por sortear"),i(),n(33,"div",19)(34,"table",20),h(35,21),s(36,ft,3,0,"th",22)(37,_t,2,1,"td",23),M(),s(38,Ct,3,0,"ng-container",24)(39,xt,1,0,"tr",25)(40,bt,1,0,"tr",26),i()(),n(41,"mat-grid-list",12),s(42,ht,3,2,"mat-grid-tile",27)(43,vt,5,4,"mat-grid-tile",27)(44,wt,3,2,"mat-grid-tile",27),n(45,"mat-grid-tile",13),s(46,yt,2,0,"button",28),i()()()),t&2){let e=p();l(4),r("colspan",1)("rowspan",1),l(9),r("colspan",1)("rowspan",1),l(9),r("colspan",1)("rowspan",1),l(12),r("dataSource",e.dataSource),l(4),r("ngIf",e.sorteoIniciado),l(),r("matHeaderRowDef",e.columnasVisibles),l(),r("matRowDefColumns",e.columnasVisibles),l(2),r("ngIf",!e.sorteoIniciado),l(),r("ngIf",e.sorteoIniciado),l(),r("ngIf",e.sorteoIniciado),l(),r("colspan",1)("rowspan",1),l(),r("ngIf",e.sorteoIniciado)}}var mt=class t{selectedValues="";sorteoIniciado=!1;mostrarDiv=!1;cambiaSorteo=!1;selectedValue(o){return this.mostrarDiv=!0,this.selectedValues===o}dataSource=new at([{position:"F001",numero:""},{position:"F002",numero:""},{position:"F003",numero:""}]);columnasVisibles=["position"];iniciarSorteo(){m.default.fire({title:"Aleatorizaci\xF3n en proceso",didOpen:()=>{m.default.showLoading(),setTimeout(()=>{this.asignarNumerosAleatorios(),this.sorteoIniciado=!0,this.columnasVisibles=["position","numero"],m.default.close()},2e3)}})}cambiarsalida(){m.default.fire({title:"\xBFEst\xE1 seguro de cambiar el orden de salida?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(m.default.fire({title:"Cambio de orden de salida En Proceso",didOpen:()=>{m.default.showLoading(),setTimeout(()=>{this.asignarNumerosAleatorios(),this.sorteoIniciado=!0,this.columnasVisibles=["position","numero"],m.default.close()},2e3)}}),this.cambiaSorteo=!0)})}asignarNumerosAleatorios(){let o=new Set,e=this.dataSource.data.map(d=>{let c;do c=Math.floor(Math.random()*200);while(o.has(c));return o.add(c),b(x({},d),{numero:c.toString()})});this.dataSource.data=e}deshacerSorteo(){m.default.fire({title:"\xBFEst\xE1 seguro de deshacer este Sorteo?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(m.default.fire({title:"Sorteo deshecho con \xE9xito"}),this.cambiaSorteo=!0),this.sorteoIniciado=!1,this.columnasVisibles=["position"];let e=this.dataSource.data.map(d=>b(x({},d),{numero:""}));this.dataSource.data=e})}cambiarOrden(){this.asignarNumerosAleatorios()}aceptarSorteo(){m.default.fire({title:"Sorteo aplicado con \xE9xito!",icon:"success",draggable:!0}),this.columnasVisibles=["position"];let o=this.dataSource.data.map(e=>b(x({},e),{numero:""}));this.dataSource.data=o,this.sorteoIniciado=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-asignacion"]],decls:20,vars:1,consts:[["appearance","outlined",1,"sorteo-card"],[1,"header-content"],[1,"label-header"],[1,"form-section"],[1,"form-label"],["appearance","outline",1,"full-width"],[3,"selectionChange"],["value","1"],["value","2"],["value","3"],[1,"card-content"],[4,"ngIf"],["cols","3","rowHeight","100px"],[3,"colspan","rowspan"],["appearance","outlined",1,"inventario-card"],[1,"inventario-content"],[1,"iconAprove"],[1,"iconSort"],[1,"iconSorte"],[1,"mat-elevation-z8"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","center-header",4,"matHeaderCellDef"],["mat-cell","","class","center-cell",4,"matCellDef"],["matColumnDef","numero",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"colspan","rowspan",4,"ngIf"],["mat-fab","","extended","","color","warn",3,"click",4,"ngIf"],["mat-header-cell","",1,"center-header"],["mat-cell","",1,"center-cell"],["matColumnDef","numero"],["mat-header-row",""],["mat-row",""],["mat-fab","","extended","","color","primary",3,"click"],["mat-fab","","extended","","color","accent",3,"click"],["mat-fab","","extended","","color","warn",3,"click"]],template:function(e,d){e&1&&(n(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2),a(3,"Asignaci\xF3n Directa"),i(),n(4,"div",3)(5,"label",4),a(6,"Seleccione una Unidad Territorial"),i(),n(7,"mat-form-field",5)(8,"mat-label"),a(9,"Seleccione unidad territorial"),i(),n(10,"mat-select",6),f("selectionChange",function(dt){return d.selectedValue(dt.value)}),n(11,"mat-option",7),a(12,"Option 1"),i(),n(13,"mat-option",8),a(14,"Option 2"),i(),n(15,"mat-option",9),a(16,"Option 3"),i()()()()(),n(17,"mat-card-content",10),s(18,At,47,16,"div",11),i()(),g(19,"app-footer")),e&2&&(l(18),r("ngIf",d.mostrarDiv))},dependencies:[L,H,z,N,R,lt,V,P,E,I,ot,K,W,tt,X,Q,et,Y,Z,nt,it,J,q,$,D,B,F,G,U,j,rt,ct,y,w,T,O,A,k],styles:[".sorteo-card[_ngcontent-%COMP%]{max-width:800px;margin:32px auto;padding:16px}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.label-header[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding-top:30px;padding-bottom:30px}.form-section[_ngcontent-%COMP%]{width:60%}.form-label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px;display:block}.full-width[_ngcontent-%COMP%]{width:100%}.card-content[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;gap:16px;align-items:center;padding-bottom:0!important}mat-form-field[_ngcontent-%COMP%]{margin-right:16px}.buttonSorteo[_ngcontent-%COMP%]{color:#fafafa!important;border-radius:none;background-color:#6745e0!important}.buttonSorteo[_ngcontent-%COMP%]:hover{background-color:#7072dd!important;color:#fafafa!important}.buttonOrden[_ngcontent-%COMP%]{color:#fafafa!important;background-color:#ad6f1e!important}.buttonOrden[_ngcontent-%COMP%]:hover{background-color:#be863b!important;color:#fafafa!important}.buttonSorteoD[_ngcontent-%COMP%]{color:#fafafa!important;background-color:#af2525!important}.buttonSorteoD[_ngcontent-%COMP%]:hover{background-color:#cc4c4c!important;color:#fafafa!important}.overlay[_ngcontent-%COMP%]{position:fixed;padding-left:8%;top:0;left:10px;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.inventario-card[_ngcontent-%COMP%]{height:100%}.inventario-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-size:10px;font-weight:700;gap:8px}.iconAprove[_ngcontent-%COMP%]{color:#33c233;font-size:25px}.iconSort[_ngcontent-%COMP%]{color:#53caca;font-size:25px}.iconSorte[_ngcontent-%COMP%]{color:#ad53c9;font-size:25px}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.center-header[_ngcontent-%COMP%]{font-weight:700;text-align:center}.center-cell[_ngcontent-%COMP%]{text-align:center}"]})};export{mt as AsignacionComponent};
