import{a as V}from"./chunk-RGYOZ7J6.js";import{b as _}from"./chunk-5HCVWL7T.js";import{c as S}from"./chunk-X6LWYDUR.js";import{b as P,c as y,g as b,h as O,l as j,m as z,o as L,q as R,r as T,v as W,w as H}from"./chunk-6CAKIS4N.js";import{L as v,P as w,Q as I,R as E,S as A,T as D,V as F,W as k,X as N,Y as U,Z as B}from"./chunk-QD22SGC6.js";import{m as x}from"./chunk-RSPXIDQL.js";import{Fb as M,Ob as e,Pb as n,Qb as h,Yb as C,bb as l,d as G,gb as m,ic as i,mc as s,nc as d,oc as c,pb as f}from"./chunk-MQ5UGFIA.js";var u=G(H());var q=class p{constructor(t,a){this.auth=t;this.router=a}username="";password="";ngOnInit(){sessionStorage.removeItem("key"),sessionStorage.removeItem("dir"),sessionStorage.removeItem("tipoUsuario"),sessionStorage.removeItem("nameUsuario")}onSubmit(){try{this.auth.login(this.username,this.password).subscribe({next:t=>{sessionStorage.setItem("key",t.token),sessionStorage.setItem("dir",t.userData[0].distrital),sessionStorage.setItem("tipoUsuario",t.userData[0].tipo_usuario),sessionStorage.setItem("nameUsuario",t.userData[0].footer),this.router.navigate(["/dashboard"])},error:t=>{t.error.code===401?u.default.fire({icon:"error",title:"Usuario inactivo",text:"Por favor contacta al Administrador del Sistema"}):t.error.code===101&&u.default.fire({icon:"error",title:"Usuario no encontrado",text:"Por favor contacta al Administrador del Sistema"})}})}catch(t){console.log("Error al iniciar sesi\xF3n",t)}}static \u0275fac=function(a){return new(a||p)(m(V),m(_))};static \u0275cmp=f({type:p,selectors:[["app-auth"]],decls:27,vars:3,consts:[[1,"login-container"],[1,"left-panel"],["src","assets/BlancoFondoTransparente.png"],[1,"right-panel"],[1,"login-wrapper"],[1,"titulo-login"],[1,"login-card"],[1,"title"],[3,"ngSubmit"],["appearance","fill"],["matInput","","maxlength","20","name","username","required","",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","maxlength","20","name","passwrod","type","password",3,"ngModelChange","ngModel"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"div",1),h(2,"img",2),n(),e(3,"div",3)(4,"div",4)(5,"h1",5),i(6,"Bienvenido, en este sistema se realizar\xE1 el procedimiento de aleatorizaci\xF3n en el que se designar\xE1 un n\xFAmero identificador para cada proyecto dictaminado viable por el \xD3rgano Dictaminador de la Alcald\xEDa (ODA) correspondiente"),n(),e(7,"mat-card",6)(8,"h3",7),i(9," SIPROE Aleatorio 2025"),n(),e(10,"form",8),C("ngSubmit",function(){return o.onSubmit()}),e(11,"mat-form-field",9)(12,"mat-label"),i(13,"Usuario"),n(),e(14,"input",10),c("ngModelChange",function(r){return d(o.username,r)||(o.username=r),r}),n(),e(15,"mat-icon",11),i(16," person"),n()(),e(17,"mat-form-field",9)(18,"mat-label"),i(19,"Contrase\xF1a"),n(),e(20,"input",12),c("ngModelChange",function(r){return d(o.password,r)||(o.password=r),r}),n(),e(21,"mat-icon",11),i(22," lock"),n()(),e(23,"button",13),i(24,"Ingresar"),n()()()(),e(25,"footer"),i(26,"Instituto Electoral de la Ciudad de M\xE9xico \u2022 Huizaches 25 \u2022 Rancho Los Colorines \u2022 Tlalpan \u2022 C.P. 14386 \u2022 Ciudad de M\xE9xico \u2022 Conmutador: (55) 5483 3800"),n()()()),a&2&&(l(14),s("ngModel",o.username),l(6),s("ngModel",o.password),l(3),M("disabled",!o.password||!o.username))},dependencies:[x,S,O,b,P,y,z,j,B,U,R,L,W,T,N,D,v,w,I,F,k,A,E],styles:[".login-container[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;background-color:#f2f2f2}.login-container[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]{background-color:#32215c;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.login-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.right-panel[_ngcontent-%COMP%]{flex:1;background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:center;padding:40px}.right-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:50px;font-size:14px;text-align:justify}.right-panel[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:center;color:#000;margin-top:20%;font-size:8.5px}.right-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#f4f4f4;background-color:#32215c}.login-card[_ngcontent-%COMP%]{padding:30px;width:100%;max-width:400px;border-radius:16px;box-shadow:0 4px 12 px #0003;margin:auto}.login-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.login-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.overlay[_ngcontent-%COMP%]{position:fixed;padding-left:8%;top:0;left:10px;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.login-wrapper[_ngcontent-%COMP%]{flex-direction:column;display:flex;height:100vh;background-color:#f2f2f2}.titulo-login[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;color:#32215c}"]})};export{q as AuthComponent};
