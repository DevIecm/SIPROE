import{a as V}from"./chunk-NDS56A3W.js";import{b as _}from"./chunk-YFOZOXJD.js";import{c as S}from"./chunk-LOSPYLTI.js";import{b as P,c as y,g as b,h as O,l as D,m as U,o as T,q as W,r as B,v as z,w as H}from"./chunk-R6TSHYG5.js";import{L as v,P as w,Q as I,R as E,S as A,T as k,V as F,W as N,X as j,Y as L,Z as R}from"./chunk-ZQU5I34W.js";import{m as x}from"./chunk-I47XCJ5Y.js";import{Fb as M,Ob as e,Pb as n,Qb as h,Yb as C,bb as l,d as G,gb as m,ic as i,mc as s,nc as d,oc as c,pb as f}from"./chunk-OUNE2IBW.js";var u=G(H());var q=class p{constructor(t,a){this.auth=t;this.router=a}username="";password="";ngOnInit(){sessionStorage.removeItem("key"),sessionStorage.removeItem("dir"),sessionStorage.removeItem("tipoUsuario"),sessionStorage.removeItem("nameUsuario")}onSubmit(){try{this.auth.login(this.username,this.password).subscribe({next:t=>{sessionStorage.setItem("key",t.token),sessionStorage.setItem("dir",t.userData[0].distrital),sessionStorage.setItem("tipoUsuario",t.userData[0].tipo_usuario),sessionStorage.setItem("nameUsuario",t.userData[0].footer),this.router.navigate(["/dashboard"])},error:t=>{t.error.code===401?u.default.fire({icon:"error",title:"Usuario inactivo",text:"Por favor contacta al Administrador del Sistema"}):t.error.code===101&&u.default.fire({icon:"error",title:"Usuario no encontrado",text:"Por favor contacta al Administrador del Sistema"})}})}catch(t){console.error("Error al iniciar sesi\xF3n",t)}}static \u0275fac=function(a){return new(a||p)(m(V),m(_))};static \u0275cmp=f({type:p,selectors:[["app-auth"]],decls:25,vars:3,consts:[[1,"login-container"],[1,"left-panel"],["src","assets/BlancoFondoTransparente.png"],[1,"right-panel"],[1,"login-card"],[1,"title"],[3,"ngSubmit"],["appearance","fill"],["matInput","","maxlength","20","name","username","required","",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","maxlength","20","name","passwrod","type","password",3,"ngModelChange","ngModel"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"div",1),h(2,"img",2),n(),e(3,"div",3)(4,"div",0)(5,"mat-card",4)(6,"h3",5),i(7," SIPROE Aleatorio 2025"),n(),e(8,"form",6),C("ngSubmit",function(){return o.onSubmit()}),e(9,"mat-form-field",7)(10,"mat-label"),i(11,"Usuario"),n(),e(12,"input",8),c("ngModelChange",function(r){return d(o.username,r)||(o.username=r),r}),n(),e(13,"mat-icon",9),i(14," person"),n()(),e(15,"mat-form-field",7)(16,"mat-label"),i(17,"Contrase\xF1a"),n(),e(18,"input",10),c("ngModelChange",function(r){return d(o.password,r)||(o.password=r),r}),n(),e(19,"mat-icon",9),i(20," lock"),n()(),e(21,"button",11),i(22,"Ingresar"),n()()()(),e(23,"footer"),i(24,"Instituto Electoral de la Ciudad de M\xE9xico \u2022 Huizaches 25 \u2022 Rancho Los Colorines \u2022 Tlalpan \u2022 C.P. 14386 \u2022 Ciudad de M\xE9xico \u2022 Conmutador: (55) 5483 3800"),n()()()),a&2&&(l(12),s("ngModel",o.username),l(6),s("ngModel",o.password),l(3),M("disabled",!o.password||!o.username))},dependencies:[x,S,O,b,P,y,U,D,R,L,W,T,z,B,j,k,v,w,I,F,N,A,E],styles:[".login-container[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;background-color:#f2f2f2}.login-container[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]{background-color:#32215c;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.login-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.right-panel[_ngcontent-%COMP%]{flex:1;background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:center;padding:40px}.right-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:50px;font-size:14px;text-align:justify}.right-panel[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:center;color:#000;margin-top:20%;font-size:8.5px}.right-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#f4f4f4;background-color:#32215c}.login-card[_ngcontent-%COMP%]{padding:30px;width:100%;max-width:400px;border-radius:16px;box-shadow:0 4px 12 px #0003;margin:auto}.login-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.login-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.overlay[_ngcontent-%COMP%]{position:fixed;padding-left:8%;top:0;left:10px;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}"]})};export{q as AuthComponent};
