import{b as y}from"./chunk-ETAFZPYJ.js";import{a as J}from"./chunk-PKSU3MS7.js";import{c as P}from"./chunk-BBFTDGVV.js";import{b,c as v,g as O,h as w,l as R,m as W,o as z,q as V,r as U,v as q,w as G,x as H,y as X}from"./chunk-TJ7EHRIH.js";import{L as I,P as E,Q as A,R as k,S as F,T as N,V as j,W as T,X as L,Y as B,Z as D}from"./chunk-7WTZQZAM.js";import{j as _,m as S}from"./chunk-VFQQH3SI.js";import{Gb as C,Pb as t,Qb as e,Rb as d,Zb as x,bb as m,d as Q,gb as s,jc as i,nc as c,oc as p,pc as g,qb as M,vb as h}from"./chunk-Z7GTBSLQ.js";var u=Q(X());function Y(l,n){l&1&&(t(0,"div",13),d(1,"mat-spinner",14),e())}var K=class l{constructor(n,a){this.auth=n;this.router=a}username="";password="";loading=!1;ngOnInit(){sessionStorage.removeItem("key"),sessionStorage.removeItem("dir")}onSubmit(){try{this.loading=!0,this.auth.login(this.username,this.password).subscribe({next:n=>{sessionStorage.setItem("key",n.token),sessionStorage.setItem("dir",n.userData[0].distrital),this.router.navigate(["/dashboard"])},error:n=>{n.error.code===401?u.default.fire({icon:"error",title:"Usuario inactivo",text:"Por favor contacta al Administrador del Sistema"}):n.error.code===101&&u.default.fire({icon:"error",title:"Usuario no encontrado",text:"Por favor contacta al Administrador del Sistema"})}})}catch(n){console.log("Error al iniciar sesi\xF3n",n)}finally{this.loading=!1}}static \u0275fac=function(a){return new(a||l)(s(J),s(y))};static \u0275cmp=M({type:l,selectors:[["app-auth"]],decls:26,vars:3,consts:[[1,"login-container"],[1,"left-panel"],["src","assets/BlancoFondoTransparente.png"],[1,"right-panel"],[1,"login-card"],[1,"title"],[3,"ngSubmit"],["appearance","fill"],["matInput","","maxlength","20","name","username","required","",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","maxlength","20","name","passwrod","type","password",3,"ngModelChange","ngModel"],["type","submit","mat-raised-button","","color","primary"],["class","overlay",4,"ngIf"],[1,"overlay"],["diameter","60"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"div",1),d(2,"img",2),e(),t(3,"div",3)(4,"div",0)(5,"mat-card",4)(6,"h3",5),i(7," SIPROE Aleatorio 2025"),e(),t(8,"form",6),x("ngSubmit",function(){return o.onSubmit()}),t(9,"mat-form-field",7)(10,"mat-label"),i(11,"Usuario"),e(),t(12,"input",8),g("ngModelChange",function(r){return p(o.username,r)||(o.username=r),r}),e(),t(13,"mat-icon",9),i(14," person"),e()(),t(15,"mat-form-field",7)(16,"mat-label"),i(17,"Contrase\xF1a"),e(),t(18,"input",10),g("ngModelChange",function(r){return p(o.password,r)||(o.password=r),r}),e(),t(19,"mat-icon",9),i(20," lock"),e()(),t(21,"button",11),i(22,"Ingresar"),e()()()(),t(23,"footer"),i(24,"Instituto Electoral de la Ciudad de M\xE9xico \u2022 Huizaches 25 \u2022 Rancho Los Colorines \u2022 Tlalpan \u2022 C.P. 14386 \u2022 Ciudad de M\xE9xico \u2022 Conmutador: (55) 5483 3800"),e()()(),h(25,Y,2,0,"div",12)),a&2&&(m(12),c("ngModel",o.username),m(6),c("ngModel",o.password),m(7),C("ngIf",o.loading))},dependencies:[S,_,H,G,P,w,O,b,v,W,R,D,B,V,z,q,U,L,N,I,E,A,j,T,F,k],styles:[".login-container[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;background-color:#f2f2f2}.login-container[_ngcontent-%COMP%]   .left-panel[_ngcontent-%COMP%]{background-color:#32215c;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.login-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.right-panel[_ngcontent-%COMP%]{flex:1;background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:center;padding:40px}.right-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:50px;font-size:14px;text-align:justify}.right-panel[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:center;color:#000;margin-top:20%;font-size:8.5px}.right-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#f4f4f4;background-color:#32215c}.login-card[_ngcontent-%COMP%]{padding:30px;width:100%;max-width:400px;border-radius:16px;box-shadow:0 4px 12 px #0003;margin:auto}.login-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.login-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.overlay[_ngcontent-%COMP%]{position:fixed;padding-left:8%;top:0;left:10px;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}"]})};export{K as AuthComponent};
